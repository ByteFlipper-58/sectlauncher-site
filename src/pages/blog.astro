---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { glob } from 'astro/load';

const posts = await glob('../content/blog/*.mdx');
---

<BaseLayout title="Блог — SectLauncher" description="Новости и обновления SectLauncher.">
  <Fragment slot="header"><Header /></Fragment>

  <section class="mx-auto max-w-3xl px-4 py-12">
    <h1 class="text-3xl font-extrabold">Блог</h1>
    <div class="mt-6 space-y-6">
      {posts.map((post) => (
        <article class="rounded-lg border border-neutral-800 p-5 bg-neutral-900/40">
          <h2 class="text-xl font-bold">
            <a href={post.url} class="hover:underline">{post.frontmatter.title ?? 'Без названия'}</a>
          </h2>
          {post.frontmatter.description && (
            <p class="text-neutral-400 mt-1">{post.frontmatter.description}</p>
          )}
          {post.frontmatter.date && (
            <div class="text-xs text-neutral-500 mt-2">{new Date(post.frontmatter.date).toLocaleDateString('ru-RU')}</div>
          )}
        </article>
      ))}
    </div>
  </section>

  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>


